<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Dental Lab App - New Patient</title>

        <!-- Main Stylesheet -->
        <link href="css/style.css" rel="stylesheet">
    
    </head>
    <body>
        <section>
            <!-- Header Section -->
            <header>
                <h1>Dental Lab App</h1>
                    <h2>New Patient</h2>
            </header>
            <!-- New Patient Form -->
            <article>
                <form action="#">
                    <fieldset>
                        <legend>Patient Information</legend>

                        <!-- Case ID -->
                        <div>
                            <label for="id">Case ID : </label>
                            <input type="number" id="caseId" >
                        </div>
                        <!-- Person's Title -->
                        <div>
                            <label for="title">Title : </label>
                            <select name="" id="patientTitle">
                                <option value="" disabled selected hidden >Please Choose...</option>
                                <option value="Mr">Mr</option>
                                <option value="Mrs">Mrs</option>
                                <option value="Miss">Miss</option>
                            </select>
                        </div>
                        <!-- Person's Name -->
                        <div>
                            <label for="first-name" >First name : </label>
                            <input type="text" id="firstName" placeholder="John">
                        </div>
                        <div>
                            <label for="last-name" >Last name : </label>
                            <input type="text" id="lastName" placeholder="Doe">
                        </div>
                        <!-- Dentist's name -->
                         <div>
                            <label for="dentist">Dentist : </label>
                            <input type="text" id="dentistName">
                         </div>
                        <!-- Clinic's name -->
                        <div>
                            <label for="clinic">Clinic : </label>
                            <input type="text" id="clinic">
                        </div>
                        
                         <!-- Case start date -->
                        <div>
                            <label for="start-date">Case Start Date : </label>
                            <input type="date" id="startDate">
                        </div>
                        <!-- Case Due Date -->
                        <div>
                            <label for="due-date">Case Due Date : </label>
                            <input type="date" id="dueDate">
                        </div>
                        <!-- Delivery Method -->
                         <div>
                            <label for="delivery">Delivery Method : </label>
                            <select name="" id="delivery">
                                <option value="" disabled hidden selected>Please Choose...</option>
                                <option value="postal">Postal</option>
                                <option value="collection">Collection</option>
                            </select>
                         </div>
                    </fieldset>

                    <fieldset>
                        <legend>Services</legend>

                            <!-- Main services -->
                            <div>
                                <label for="">Type of Service : </label>
                                <select name="" id="services">
                                    <option value="" disabled hidden selected>Please Choose...</option>
                                    <option value="removables">Removables</option>
                                    <option value="restorations">Restorations</option>
                                </select>
                            </div>

                            <!-- Removables or Restoration services -->
                            <div id="services-options">

                            </div>
                            
                            <!-- Tooth and Material Selection -->
                             <div id="toothMaterial">

                             </div>

                            

                    </fieldset>
                </form>

                <div>
                    <button id="sub" >Submit</button>
                </div>
            </article>

        </section> 

        <!-- footer  -->
        <footer>
            <p>&copy; 2025 Dental Lab App. All rights reserved by Aenan Bashir.</p>
        </footer>

        <!-- JavaScript Section -->
        <script>
            // selecting services
            let servicesSelection = document.getElementById("services");

            // First Drop down 
            let removablesSelection = '<label for="">Type of Removables : </label> \
                                <select name="" id="removables"> \
                                    <option value="" disabled hidden selected>Please Choose...</option> \
                                    <option value="nightGuard">NightGuard</option> \
                                    <option value="whiteningTray">Whitening Tray</option> \
                                    <option value="digitalModel">Digital Models</option> \
                                    <option value="splint">Splint</option> \
                                </select>';
            
            let restorationsSelection = '<label for="">Type of Restorations : </label> \
                                <select name="" id="restorations"> \
                                    <option value="" disabled hidden selected>Please Choose...</option> \
                                    <option value="crown">Crown</option> \
                                    <option value="implant">Implant</option> \
                                </select>';

            let restorationsTeethSelection = '<label for="tooth" >Tooth : </label> \
                            <input type="text" placeholder="LL / LR / UL / UR"> \
                            <label for="">Material</label> \
                            <select name="" id=""> \
                                <option value="zr">Zirconia</option> \
                                <option value="emax">Emax</option> \
                                <option value="metal">Metal</option> \
                                <option value="pbc">Porcelin Bonded</option> \
                            </select>';

            // Selection of First Drop down as per selction
            servicesSelection.addEventListener("change", function(){ 
                
                if (servicesSelection.value == "removables") {
                    document.getElementById("services-options").innerHTML = removablesSelection;

                    document.getElementById("toothMaterial").innerHTML = "";
                }else{
                    document.getElementById("services-options").innerHTML = restorationsSelection;
                    
                    // selecting restorations option
                    let restorationSelectionFinal = document.getElementById("restorations");

                    restorationSelectionFinal.addEventListener("change", function(){ 
                        
                        document.getElementById("toothMaterial").innerHTML = restorationsTeethSelection;
                    });
                };
            });

            // Submit button actions
            // forms to values
            // values to local memory
            // take the page to index
            // update the table on index with new table always when open index 
            document.getElementById("sub").addEventListener("click", function(){
                let caseId = document.getElementById("caseId").value;
                let patientTitle = document.getElementById("patientTitle").value
                let firstName = document.getElementById("firstName").value;
                let lastName = document.getElementById("lastName").value;
                let dentistName = document.getElementById("dentistName").value;
                let clinic = document.getElementById("clinic").value;
                let startDate = document.getElementById("startDate").value;
                let dueDate = document.getElementById("dueDate").value;
                let delivery = document.getElementById("delivery").value;
                
                console.log(caseId, patientTitle, firstName, lastName, dentistName, clinic,startDate,dueDate,delivery);
            });
            

            
           
        </script>  
    </body>
</html>